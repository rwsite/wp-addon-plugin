# Плагин WordPress Excellence

Преобразует вашу стандартную установку WordPress в отличный, оптимизированный сайт с всесторонними улучшениями производительности, безопасности и usability.

## Ключевые возможности

### Оптимизация производительности
- **Минификация ресурсов**: Автоматическая минификация CSS и JavaScript с кэшированием ✅
- **Очистка медиа**: Удаление неиспользуемых размеров изображений для освобождения места
- **Оптимизация базы данных**: Исправление полей GUID и оптимизация ревизий записей
- **Управление ресурсами**: Отключение ненужных скриптов (эмодзи, heartbeat, jQuery migrate)

### Улучшения безопасности
- Удаление версии WordPress из заголовков
- Отключение XML-RPC и пингбеков
- Блокировка агрессивных обновлений
- Скрытие админ-бара для не-администраторов

### SEO и управление контентом
- Автоматический alt-текст для загружаемых изображений
- Поддержка транслитерации
- Настраиваемые длины выдержек
- Отключение комментариев глобально или выборочно
- Функционал дублирования записей

### Улучшения интерфейса пользователя
- Расширенный редактор TinyMCE с кастомными цветами, шрифтами и поддержкой Bootstrap
- Продвинутые виджеты дашборда (инфо сервера, список плагинов, роли пользователей)
- Кастомные колонки админки (ID записей, миниатюры)
- Режим обслуживания

### Инструменты разработки
- Кастомные шорткоды (FAQ, Содержание)
- Дополнительные виджеты (Годовой архив)
- Инъекция кастомного CSS/JS/HTML
- **Модуль PerformanceTweaks**: Централизованные оптимизации производительности
- Модульная система расширений

## Архитектура

- **PSR-4 Автозагрузка**: Организованная структура пространств имён
- **Модульный дизайн**: Система модулей на основе интерфейсов для лёгкого расширения
- **Внедрение зависимостей**: Чистая сервисная архитектура
- **Современное тестирование**: Фреймворк Pest с декларативным синтаксисом, in-memory базой данных и фабриками данных

## Установка

1. Скачайте плагин
2. Загрузите в `wp-content/plugins/`
3. Активируйте через админку WordPress
4. Настройте параметры в меню **WordPress Excellence**

## Требования

- WordPress 5.0+
- PHP 7.4 - 8.4

## Тестирование

Плагин использует современные практики тестирования с фреймворком Pest для декларативных, читаемых тестов.

### Быстрый старт
```bash
composer install
composer test  # Запуск всех unit-тестов (83 теста)
composer test:coverage  # С отчётом покрытия
```

### Архитектура
- **Фреймворк Pest**: Декларативный синтаксис с `describe`/`it`/`expect`
- **In-Memory SQLite**: Быстрое, изолированное тестирование базы данных
- **Фабрики данных**: Лёгкая генерация тестовых данных
- **CI/CD**: GitHub Actions с матричным тестированием (PHP 7.4-8.4)

### Написание тестов
```php
describe('AssetOptimizationService', function () {
    it('minifies CSS', function () {
        $service = new AssetOptimizationService(['minify_css' => true]);
        $result = $service->minifyCss('body { color: red; }');
        expect($result)->toBe('body{color:red}');
    });
});
```

Тесты расположены в `tests/Unit/` и `tests/Feature/`. Все тесты проходят с 196 утверждениями.

## Разработка

- Следуйте стандартам кодирования PSR-12
- Добавляйте PHPDoc для всех публичных методов
- Пишите модульные тесты для новой функциональности
- Используйте модульную систему для новых функций

## Обратная совместимость

Плагин поддерживает совместимость с существующими установками. Устаревшие функции сохранены, в то время как новые возможности используют модульную систему.

## Вклад в проект

1. Форкните репозиторий
2. Создайте ветку для функции
3. Добавьте тесты для новой функциональности
4. Убедитесь, что все тесты проходят
5. Отправьте pull request

## Лицензия

Смотрите файл LICENSE для деталей.

## Поддержка

Для поддержки и документации:
- [Руководство по настройкам](SETTINGS.md)
- [Разработка модулей](MODULES_GUIDE.md)
- Директория плагинов WordPress
